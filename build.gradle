/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.1/samples
 */

apply plugin: 'java'

configurations {
	insert
	implementation.extendsFrom(insert)
}

repositories {
	mavenCentral()
}

dependencies {
	//Change 'implementation' to 'compile' in old Gradle versions
	insert("net.dv8tion:JDA:5.0.0-alpha.4") {
		exclude module: 'opus-java'
	}
}

jar {
	manifest {
		attributes 'Main-Class': 'net.kettlemc.discordbot.Main'
	}
	duplicatesStrategy = DuplicatesStrategy.EXCLUDE
    from {
        configurations.insert.collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }
}

sourceSets {
	main {
		java {
			srcDirs 'src'
		}
	}
}